---
sidebar_label: BSC 검증인 FAQs
hide_table_of_contents: false
sidebar_position: 2
---

# BNB 스마트 체인 검증인 FAQs

### BNB 스마트 체인 검증인의 역할은 무엇인가요?
트랜잭션을 처리하고 블록을 서명하여 블록체인 네트워크를 운영합니다.

### 검증인 노드를 운영해서 얻는 인센티브가 무엇인가요?

검증인과 위임인은 트랜잭션 수수료로부터 보상을 얻습니다: dApp 사용 등.

### 온체인 거버넌스 제안은 무엇인가요?

제안은 다음을 결정합니다: 슬래싱 규모, 크로스 체인 전송 수수료.

### 테스트넷에서 어떻게 검증인이 될 수 있나요?

  1. 검증인이 될 서버/PC를 선택하세요
  2. 소프트웨어를 설치하세요
  3. 지갑을 생성하고 BNB를 입금하세요
  4. 풀 노드를 실행하고 동기화하세요
  5. 바이낸스 체인에서 BNB를 스테이킹하세요: 스테이킹된 노드 중 상위 21 개가 검증인 집합이 됩니다.

### 메인넷에서 어떻게 검증인이 될 수 있나요?

  1. 검증인이 될 서버/PC를 선택하세요
  2. 소프트웨어를 설치하세요
  3. 지갑을 생성하고 BNB를 입금하세요
  4. 풀 노드를 실행하고 동기화하세요
  5. 바이낸스 체인에서 BNB를 스테이킹하세요: 스테이킹된 노드 중 상위 21 개가 검증인 집합이 됩니다.

### What are hardware requirements of running a validator node? 

트랜잭션 처리는 대부분 CPU에서 발생하므로, CPU 최적화된 서버를 운영하는 것을 권장합니다.

 * 직접 연결된 인터넷 (NAT이 아닌 공개 IP)
 
 * 8 코어 CPU
 
 * 16GB RAM
 
 * 500 SSD 저장공간

### 검증인을 생성하기 위해 BNB가 얼마나 필요하나요?

검증인은 자기 본딩, 즉 BNB를 자신한테 위임할 수 있습니다. 또한 다른 BNB 소유자에게서 위임 받을 수도 있습니다. 이렇게 바인딩된 BNB는 담보 역할을 하며 검증인을 포함한 각 위임인들이 책임을 지게 합니다. 검증인의 부정행위나 비잔틴 행동이 발생할 경우, 검증인과 그 위임인들의 바인딩된 지분이 슬래싱됩니다. 최소 자기 위임양은 10000BNB입니다.

### 보상은 언제 지급되나요?

보상은 검증인에게 바로 지급되지 않고, 계약에 누적되고 분배됩니다. 바이낸스 체인에서 보상 분배는 매일 UTC 00:00에 이뤄집니다.

### 검증인이 부담하는 잠재적인 위험은 무엇인가요?

검증인은 “슬래싱”을 당할 수 있는데, 이는 이중 서명이나 불안정성에 대한 처벌로 발생합니다. 이로 인한 손실은 위임인들과 공유되진 않습니다.
슬래싱은 검증인의 잘못된 행동으로 발생하는 징벌적 기능입니다. 슬래싱되는 것은 검증인으로서 자기 위임 지분을 읽는 것을 뜻합니다. 검증인은 다음 활동을 하면 슬래싱이 이뤄집니다:

  * 오프라인이 되어 네트워크와 통신할 수 없는 경우
  
  * 이중 서명: 검증인 노드가 2개의 다른 블록을 서명해서 배포해서 네트워크를 분리하려고 하면 검증인 집합에서 완전히 박탈됩니다

### 어떻게 BSC에서 검증인으로 선정되나요?

BNB 스마트 체인(BSC) 네트워크에서, 검증인은 트랜잭션을 처리하고 블록을 서명하여 네트워크를 유지하는 역할을 맡고 있습니다. 검증인 노드는 이런 좋은 행동에 대해 트랜잭션 수수료로 보상을 받습니다. 현재는 테스트넷에 11게의 검증인이 있고 메인넷에 21개의 검증인이 존재합니다. 검증인은 24시간마다 선정됩니다. 누구나 검증인 후보자가 될 수 있습니다. 검증인 선정 과정에 참여하기 위해서는 노드들은 BNB를 스테이킹 해야 합니다. 검증인은 BNB를 자기 위임(자기 바인딩) 할 수 있으며 다른 BNB 소유자들로부터 위임받을 수 있습니다. 최소 자기 위임 금액은 **10000BNB**입니다. 상위 21개 최고 위임 노드들만이 검증인 집합에 선정됩니다. 자세한 사항은 [여기](https://docs.bnbchain.org/docs/validator/overview.html)를 확인하세요.

### 어떻게 BSC에서 검증인 노드의 불량하거나 악의적인 행동을 제어하나요?

"슬래싱"은 투옥과 함께 구현된 중요한 온체인 거버넌스 기술 중 하나입니다. 수감된 검증인은 합의 매커니즘에 참여하지 못하고 해당 기간 동안 보상을 받지 못합니다. 슬래싱은 불량하거나 악의적인 행위를 하는 검증인들을 처벌하는 역할을 합니다. 또한, 슬래싱은 공격자를 노출시키고 공격을 실행하는데 엄청난 비용이 들도록 설계되었습니다. 누구나 BSC 슬래싱 요청을 제출할 수 있습니다. BSC 슬래싱 요청은 슬래싱 증거와 트랜잭션 수수료가 필요하지만, 요청이 성공할 시 큰 보상이 주어집니다. 위임인들이 검증인의 불량한 행동에 의해 처벌 받지 않기 위해, 자기 본딩된 BNB가 삭감됩니다. 현재 슬래싱은 부적합한 트랜잭션을 제출하거나, 이중 서명을 하거나, 일정 시간 동안 부재중인 모든 노드에게 적용됩니다.

### 슬래싱 가능한 두 가지 경우가 무엇인가요?

검증인은 자기 위임 금액이 부족하거나, 이중 서명하거나, 사용 불가능할 시 슬래싱 됩니다.

*_이중 서명:_* 은 검증인 노드가 두 개의 다른 블록을 갇은 높이로 제출할 때 발생합니다. 검증인이 두 개의 다른 블록을 서명하고 전파를 시도할 때 검증인 집합에서 확정적으로 제거됩니다. 이중서명에 대한 BSC 슬래싱 요청은 두개의 블록 해더가 같은 블록 크기를 갇고 부모 블록 해시를 갖으며, 같은 검증인에게 서명되었다는 증거를 보여줘야 합니다. 같은 검증인이 서명했어도 이 두 블록에 대한 서명은 달라야 합니다. 두 블록은 증거 유효 기간인 24시간 내에 발행되었어야 합니다. 이중 서명 증거를 제출한 것에 대한 보상은 **1000BNB**입니다. 제공된 정보가 유효하다면, 검증인은 자기 위임된 **10000BNB**가 슬래싱(삭감)되며 7일 간 ‘투옥’됩니다.

*_사용 불가능/24시간 내 다운타임 발생:_* 오프라인에 대한 슬래싱 비용은 자기 위임된 **50BNB**이며 2일 동안 투옥됩니다. 검증인이 24시간 동안 50블록 이상을 놓치면 (다운타임으론 ~52분) , 해당 기간 동안 발생된 보상을 받을 수 없습니다.
이 보상은 더 우수한 검증인들에게 분배됩니다. 다른 사용 불가능한 사례는 검증인이 24시간 동안 150블록 이상을 놓치는 (다운타임으론 ~157.5분 정도)경우입니다. 해당 경우에는 검증인이 보상을 받지 않고 바이낸스 체인으로 전파됩니다. 

*_자기 본딩 최소금액 부족:_* 검증인의 자기 본딩된 금액이 **10000BNB** 아래로 떨어질 때 하루 수감됩니다.

### 수감을 피하기 위한 최소 자기 위임 금액은 얼마인가요?

[최소 자기 위임 금액](parameters.md)은 **10000BNB**입니다.

### 본딩 해제 기간이 얼마나 되나요?

본딩 해제 기간: 7 일

### 오프라인으로 투옥된 검증인의 석방 비용은 얼마인가요? 오프라인 투옥 기간은 얼마인가요? 

오프라인 석방 비용: 1BNB 

오프라인 투옥 기간: 2일. 검증인은 투옥 후 2일이 지나야만 석방을 요청할 수 있습니다

### 검증인이 오프라인이거나 이중서명 할 시 부과되는 슬래싱 금액은 얼마인가요?

오프라인 슬래싱 금액: 50BNB 

이중서명 슬래싱 금액: 10000BNB

### 슬래싱 계약을 어떻게 모니터링 할 수 있나요?

해당 링크의 BSC 스캐너에서 슬래싱 계약을 확인할 수 있습니다.

https://bscscan.com/address/0x0000000000000000000000000000000000001001#events

### 비활성화된 검증인도 보상을 받나요?

아니오, 받지 않습니다.

### 제가 스테이킹한 검증인이 비활성화 되어 있으면 보상을 받을 수 있나요?

아니오, 받을 수 없습니다.

### 스테이킹 해제한 BNB는 언제 받을 수 있나요?

`undelegate`(위임 해제) 트랜잭션을 보낸 후 7 일을 기다려야 합니다. 시간은 다음 날 UTC 00:00 부터 계산됩니다.

### 어떻게 석방될 수 있나요?
불량하거나 악의적인 동작에 의해 투옥된 검증인은 검증이 통과될 시 side-unjail 트랜잭션을 보내어 석방될 수 있습니다. 석방이 되었을 시 다시 검증인 집합이 참가하려면 다음 UTC 00:00까지 기다려야 합니다. 검증인 석방을 위한 스마트 계약 수수료는 **1BNB**입니다. 반면, 검증인의 비잔틴 행동 증거를 제출하는 수수료는 **10BNB**입니다.

_예시:_

~~~~
bnbcli slashing side-unjail --side-chain-id=bsc –node http://dataseed4.binance.org:80 --chain-id=Binance-Chain-Tigris --trust-node --output=json  --from {the address of the validaator operator}
~~~~

### '자기 위임'은 무엇이며 어떻게 늘릴 수 있나요?

자기 위임은 검증인이 BNB를 자신에게 위임하는 것을 뜻합니다. 검증인 작업 주소를 통해 위임 트랜잭션을 보내서 금액을 늘릴 수 있습니다.

### 프루닝(prune) 하는 명령어는 무엇인가요?

  * 노드를 멈추세요
  
  * `nohup geth snapshot prune-state --datadir {the data dir of your bsc node} &` 를 실행하세요
  
  * 끝날 때까지 5-6 까지 기다리세요. 저장 용량에 따라 대기 시간이 달라질 수 있습니다.

### 상태 명령어를 실행하지 못할 때 어떻게 해야 하나요?

 geth 1.1.5에서 geth 스냅 샷을 실행할 때 `prune-state --datadir /chaindata` 다음과 같은 에러가 발생할 수 있습니다.

~~~~
ERROR[11-02|06:02:55.001] Failed to open snapshot tree err="head doesn't
match snapshot: have 0x5c17a8fc0164dabedd446e954b64e8a54fc7c8b4fee1bbd707c3cc3ed1e45fff, want 0x431565cee8b7f3d7bbdde1265304fa4574dc3531e511e9ffe43ae79d28e431d6" head doesn't match snapshot: have 0x5c17a8fc0164dabedd446e954b64e8a54fc7c8b4fee1bbd707c3cc3ed1e45fff, want 0x431565cee8b7f3
~~~~

이는 데이터 손상으로 인해 발생합니다. geth 스냇샷 검증 상태(verify-state)에서 데이터가 정확한지 다시 확인할 수 있습니다. 최신 스냅샷은 https://github.com/bnb-chain/bsc-snapshots 에서 확인할 수 있습니다. 이를 통해 나중에 프루닝 상태를 실행하지 않아도 되고, 소중한 디스크 IO를 아끼며, 동기화 상태를 유지할 수 있습니다.

### 동기화기가 느릴 경우

다음 명령어를 실행하면 됩니다.

~~~~
*_start order: geth --config ./config.toml --datadir /data/server/data-seed/ --cache 20000 --rpc.allow-unprotected-txs --syncmode snap –diffsync --txlookuplimit 0_*
~~~~

상태를 프루닝 하고 --stop geth로 멈춘 후, 그리고 geth를 다시 실행합니다 --datadir=node - prune-state. datadir이 노드라고 할 때, 다른 곳에 있으면 변경하고 작업이 끝난 후 재시작합니다.https://github.com/bnb-chain/bsc/issues/502 에서 동기화된 노드를 유지하는 방법에 대해 알아보세요.

### 스냅샷을 통해 geth 노드를 시작하고 동기화하는 법

동기화 시 가장 큰 병목 현상은 CPU와 IOPS에서 발생합니다. 방법은 다음과 같습니다: 

  * [공식 사이트](https://github.com/bnb-chain/bsc-snapshots)에서 최신 geth 버전을 다운로드 받고 실행 파일로 만듭니다. `/usr/local/bin/geth` 로 옮기는 것을 추천합니다.
  
  * mainnet.zip를 다운 받고 압축을 해제합니다
  
  * 아래 명령어를 통해 제네시스를 생성하면, 블록체인 데이터를 위한 메인넷 폴더도 생성됩니다
    ./geth_linux --datadir mainnet init genesis.json
  
  * [여기](https://github.com/bnb-chain/bsc-snapshots)서 최신 스냅샷을 다운로드 받으세요
   
  * 스냅샷을 추출하세요
 
  * 스냅샷 데이터를 메인넷 폴더로 옮기세요

      `rm -rf mainnet/geth/chaindata`  

      
      `rm -rf mainnet/geth/triecache`  

      
      `mv server/data-seed/geth/chaindata mainnet/geth/chaindata`  

      
      `mv server/data-seed/geth/triecache mainnet/geth/triecache`  

[선택사항] config.toml 을 열고 Node Log 부분을 삭제하세요. 터미널에 직접 로그를 받거나 tail로 로그를 조회할 때 유용합니다.

[선택사항] SSH 사용 시 멈추지 않도록 서비스를 생성하거나 스크린에서 명령어를 실행합니다.
스크린을 실행하고 엔터를 눌러서, ssh로 인해 접속이 끊겼을 시,  `screen -r`을 실행하여 geth가 명령어를 돌리면 "screen/terminal"로 복귀합니다. 

`geth --config ./config.toml –datadir ./mainnet --cache 100000 --rpc.allow-unprotected-txs --txlookuplimit 0 --http --maxpeers 100 –ws --syncmode=full --snapshot=false –diffsync`

### 동기화 문제를 해결하기 위해서는 어떻게 해야 하나요?

  * 최대 피어를 약 30으로 유지하세요. 너무 많거나 너무 적은 것은 추천하지 않습니다.
  
  * 스냅샷을 활성화합니다, 스냅샷은 상태 세계에 또 다른 형식으로 성능을 개선하기 위해 설계되었습니다. 항상 참(true)으로 설정할 수 있습니다.
  
  * 1.1.5로 업그레이드하여 diffsync를 활성화합니다.
  
  * 30-50으로 피어 수를 줄여보세요 (리소스 많을 시 피어 더 필요). net.peerCount를 통해 피어가 충분히 연결되어 있는지 확인하세요.
  
  * 하드웨어를 업그레이드 하세요 (특히 디스크와 CPU 리소스)

### 제 dapp에서 트랜잭션의 해시가 생성되었는되도 왜 bscscan에서 조회가 불가능한가요?
네트워크 혼잡으로 트랜잭션이 지연된 후 나타날 수 있습니다. 아니면 대기 중인 트랜잭션들이 제한된 트랜잭션 풀의 용량을 초과하여 트랜잭션이 삭제된 경우입니다.

### 검증인 계약의 슬래싱 계측기가 150을 넘지 않고 수감되지 않도록 할 수 있는 조치는 무엇인가요?
  * 프루닝 하는 것이 최선입니다.
  
  * 더 좋은 CPU를 사용하세요. 현재는 m5zn.3xlarge를 추천합니다. 클럭 속도가 3.2GHz 입니다.
  
  * 10000을 넘는 IOPS면 충분합니다.
  
  * 2-3개의 백업 노드를 운영하세요.
  
  * NVMe 디스크가 SSD보다 좋습니다

### 검증인 노드의 위치가 성능에 영향을 줄 수 있나요? 검증인 노드의 enode나 ips를 가져올 방법이 있나요?
검증인 노드는 대부분 개인 네트워크에서 운영되어 연결하거나 장소를 추적하는 것이 어렵습니다. 게다가, 커뮤니티 개발자들은 EU에서 운영하는 것이 성능 상으로는 더 뛰어나다고 제안하고 있습니다.
